<div data-ng-search-form=""
     data-runSearch="true">
  <div class="gn-top">
    <header class="gn-header"
          data-ng-show="gnCfg.mods.header.enabled && gnCfg.mods.header.isLogoInHeader">
      <div data-ng-class="fluidHeaderLayout ? 'container-fluid' : 'container'">
        <div class=row>
          <div class="col-md-4 col-sm-6 col-xs-12 gn-nopadding-left text-{{gnCfg.mods.header.logoInHeaderPosition}}">
            <a data-gn-active-tb-item="{{gnCfg.mods.home.appUrl}}">
              <img class="{{gnCfg.mods.header.logoInHeaderPosition}}"
                  id="gn_logo"
                  alt="{{'siteLogo' | translate}}"
                  src="../../catalog/views/default/images/Canada-Logo-Horizontal-Full-Colour.png"/>
            </a>
          </div>
          <div class="col-md-4 col-sm-6 col-xs-12">
            <ul class="socialmedia pull-right" ng-show="getSocialLinksVisible()" data-ng-include="'../../catalog/views/default/templates/socialBar.html'"></ul>
          </div>
          <div class="col-md-4 col-sm-12 col-xs-12 gn-nopadding-right gn-nopadding-left">
            <div data-ng-include="'../../catalog/views/default/templates/searchForm.html'"></div>
          </div>
        </div>
      </div>
    </header>
    <!-- /.gn-header -->
  </div>
  <!-- /.gn-top -->

  <div class="navbar navbar-default gn-top-bar"
     role="navigation"
     data-ng-show="gnCfg.mods.header.enabled"
     data-ng-include="'../../catalog/views/default/templates/topToolbar.html'"
     xmlns="http://www.w3.org/1999/html">
  </div>

  <div gn-grid-related-query="searchResults.records"></div>
  <div class="row gn-row-results">
    <div data-ng-class="fluidLayout ? 'container-fluid' : 'container'">
      <div class="col-md-3 gn-search-facet">

        <div data-ng-show="searchResults.records.length > 0"
            data-gn-saved-selections-panel="user"></div>

        <div data-gn-user-searches-panel="user"
             data-ng-if="isUserSearchesEnabled && user.isConnected()"></div>

        <div data-search-filter-tags
             data-dimensions="searchResults.dimension"
             data-use-location-parameters="true"
             ng-if="isFilterTagsDisplayedInSearch && searchResults.dimension">
        </div>

        <!-- Hierachical facet mode -->
        <div class="panel panel-default"
            data-ng-show="searchResults.records.length > 0">
          <div class="panel-heading" data-gn-slide-toggle="">
            <i class="fa fa-search"/>&nbsp;
            <span data-translate="">filter</span>
          </div>
          <div class="panel-body">
            <div data-gn-facet-dimension-list="searchResults.dimension"
                data-params="searchObj.params"
                data-facet-type="facetsSummaryType"
                data-facet-list="facetConfig"
                data-current-facets="currentFacets">
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-9 container-fluid">
      <div class="row gn-row-tools">
        <div class="col-xs-12 col-md-12"
            data-gn-facet-dimension-list="searchResults.dimension"
            data-params="searchObj.params"
            data-facet-type="facetsSummaryType"
            data-facet-list="facetConfig"
            data-current-facets="currentFacets"
            data-tab-field="facetTabField">
        </div>
        <div class="col-xs-12 col-sm-6 col-md-6"
          data-ng-show="searchResults.records.length > 0">
          <div data-gn-selection-widget=""
               class="pull-left"
               data-results="searchResults"></div>
          <div class="pull-left gn-padding-left clearfix">
            <div data-gn-results-tpl-switcher=""
                 class="pull-left"></div>
            <div data-sortby-combo=""
                 class="pull-left"
                 data-params="searchObj.params"
                 data-gn-sortby-values="searchObj.sortbyValues"></div>
          </div>
        </div>

        <div class="col-xs-12 col-sm-6 col-md-6 text-right"
             data-ng-show="searchResults.records.length > 0">
        <div class=""
            data-gn-pagination="paginationInfo"
            data-hits-values="searchObj.hitsperpageValues"
            data-enable-hot-keys=""
            data-enable-events=""></div>
      </div>
    </div>


    <div class="row">
      <div class="col-xs-12">
        <span class="loading fa fa-spinner fa-spin"
              data-ng-show="searching"></span>

        <div class="alert alert-warning" role="alert"
            ng-if="!searching && searchResults.count == 0">
          <i class="fa fa-frown-o"></i>
          <span data-translate="">zarooResult</span>
        </div>

        <div data-ng-show="searchResults.records.length > 0"
            data-gn-results-container=""
            data-search-results="searchResults"
            data-template-url="resultTemplate"
            data-map="searchObj.searchMap"></div>
      </div>
    </div>

    <div class="row">
      <div class="col-xs-12 text-right"
      data-ng-show="searchResults.records.length > 0">
        <div class=""
              data-gn-pagination="paginationInfo"
              data-hits-values="searchObj.hitsperpageValues"
              data-enable-hot-keys=""
              data-enable-events=""></div>
      </div>
    </div>
    <br>


    </div>
  </div>

  <div data-gn-map-field="searchObj.searchMap"
       data-gn-map-field-geom="searchObj.params.geometry"
       data-gn-map-field-opt="searchObj.mapfieldOption"
       class="gn-search-map hidden-xs">
  </div>

  <button data-ng-click="toggleMap()"
          title="{{'toggleMiniMap' | translate}}"
          class="gn-toggle gn-minimap-toggle btn btn-primary gn-minimap-button hidden-xs">
    <i class="fa fa-angle-double-right" ></i>
    <b class="gn-minimap-toggle gn-minimap-text" data-translate="">map</b>
  </button>
</div>
